<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Донельчук Артём Вячеславович. Лабораторная работа 7</title>
    <link rel="stylesheet" href="main.css">
    <style>
        .circle {
            border: 1px solid gray;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            text-align: center;
            line-height: 50px;
            font-size: 20px;
            font-weight: bold;
        }
        .circle_div {
            position: absolute;
            top: 60px;
            left: 300px;
            border: 1px solid gray;
            text-align: center;
        }
    </style>
    <script>
        function addBlocks() {
            let blocks = document.getElementById("blocks");
            for(let i = 0; i<10; i++) {
                let block = document.createElement("div");
                block.innerHTML = "Блок №" + (i+1) + ": " + (2 * i**2);
                blocks.appendChild(block);
            }
        }

        function showExchange() {
            let exchange = [70.5174, 70.1217, 70.0414, 70.3847, 70.5991, 70.8924, 71.5763, 72.8949, 72.7923, 73.6307];
            let table = document.getElementById("dollar-exchange");
            for(let i = 0; i < exchange.length; i++) {
                let tr = document.createElement("tr");
                let td = document.createElement("td");
                td.innerHTML = exchange[i];
                tr.appendChild(td);
                table.appendChild(tr);
            }

            let sum = 0;
            for(let i = 0; i < exchange.length; i++) {
                sum = sum + exchange[i];
            }
            let average = sum / exchange.length;
            document.getElementById("detail").innerHTML = "Среднее значение : " + average.toFixed(2);
        }

        function changeOpasity() {
            let blocks = document.getElementById("opasity_blocks");
            for (let i = 0; i < 10; i++) {
                let block = document.createElement("div");
                block.innerHTML = "Блок №" + (i+1) + ": " + (10 * (i+1)) + "%";
                block.style.opacity = i / 10;
                blocks.appendChild(block);
            }
        }

        function Create_circles() {
            let circle = document.getElementById("user-number").value;
            let screen = document.getElementById("screen");
            for (let i = circle; i > 0; i--) {
                let circles = document.createElement("div");
                circles.innerHTML = (i);
                if ( i % 2 == 0) {
                    circles.style.backgroundColor = "green"; 
                }
                else {
                    circles.style.backgroundColor = "red";
                }
                circles.classList.add("circle");
                screen.appendChild(circles);
            }
        }

        function multiplication() {
            let blocks = document.getElementById("mult_table");
            for (let i = 13; i <= 33; i++) {
                let block = document.createElement("div");
                let result = i * 64;
                block.innerHTML = i + " * 64 = " + result;
                blocks.appendChild(block);
            }
        }

        
        
        function stock() {
            let date = ["22.05.2023", "23.05.2023", "24.05.2023", "25.05.2023", 
                        "26.05.2023", "29.05.2023", "31.05.2023", "01.06.2023", "02.06.2023"];
            let stock_value = [668.00, 667.00, 678.40, 682.20, 698.80, 727.00, 731.60, 738.00, 745.00];
            let table = document.getElementById("table");
            for (let i = 0; i< stock_value.length; i++) {
                let tr = document.createElement("tr");
                let dates = document.createElement("td");
                let stocks = document.createElement("td");
                let difference = document.createElement("td");
                dates.innerHTML = date[i];
                stocks.innerHTML = stock_value[i];
                difference.innerHTML = (stock_value[i] - stock_value[i-1]).toFixed(1); 
                tr.appendChild(dates);
                tr.appendChild(stocks);
                if(difference.innerHTML == "NaN") {
                    difference.innerHTML =" ";
                    tr.appendChild(difference);
                }
                else {
                    tr.append(difference);
                }
                table.appendChild(tr);

            let sum = 0;
            for(let i = 0; i < stock_value.length; i++) {
                sum = sum + stock_value[i];
            }
            let average = sum / stock_value.length;
            document.getElementById("stock_detail").innerHTML = "Среднее значение : " + average.toFixed(0);
            }
            let min_stock = Math.min(...stock_value);
            let max_stock = Math.max(...stock_value);
            document.getElementById("min").innerHTML = "Минимальное значение : " + min_stock;
            document.getElementById("max").innerHTML = "Максимальное значение : " + max_stock;
        }
    </script>
</head>

<body>
    <header>
        НГТУ, ФБ, Лабораторная работа 7
    </header>

    <main>
        <button onclick="addBlocks()">Создать блоки</button>
        <div id="blocks"></div>

        <button onclick="showExchange()">Курс доллара</button>
        <table border="1" id="dollar-exchange"></table>
        <div id="detail"></div>

        <button onclick="changeOpasity()">Создать полупрозрачные блоки</button>
        <div id="opasity_blocks"></div>

        <div class="circle_div">
            Введите количество кругов для создания:
            <input type="number" value="5" min="1" id="user-number" placeholder="Введите число кругов"><br>
            <button onclick="Create_circles()">Красное/зелёное</button>
            <div id="screen" style="color: white;"></div>
        </div>

        <button onclick="multiplication()">Таблица умножения на 64</button>
        <div id="mult_table"></div>

        <button onclick="stock()">Курс акций "Группа ЛСР"</button>
        <table border="1" id=table></table>
        <div id="stock_detail"></div>
        <div id="min"></div>
        <div id="max"></div>
    </main>

    <footer>
        &copy; Донельчук Артём Вячеславович, ФБИ-13, 2 курс, 2023
    </footer>
</body>
</html>
